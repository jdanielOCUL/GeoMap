<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GDAL: GDAL for Windows CE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>GDAL for Windows CE </h1>  </div>
</div>
<div class="contents">
<p><a class="el" href="wince.html#wince_overview">Overview</a><br/>
 <a class="el" href="wince.html#wince_features">Features</a><br/>
 <a class="el" href="wince.html#wince_platforms">Supported Platforms</a><br/>
 <a class="el" href="wince.html#wince_directory">Content of 'wince' directory</a><br/>
 <a class="el" href="wince.html#wince_building">Building GDAL for Windows CE using Microsoft Visual C++ 2005</a><br/>
 <a class="el" href="wince.html#wince_building_proj4">Enable PROJ.4 support</a><br/>
 wince_building_geos<br/>
 <a class="el" href="wince.html#wince_help">How can I help?</a><br/>
</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>*** Currently, GDAL port for Windows CE platform is not actively maintained. If you are interested in providing patches or taking over this project, please write to <a href="http://lists.osgeo.org/mailman/listinfo/gdal-dev/">gdal-dev@lists.maptools.org</a> mailing list. ***</dd></dl>
<h2><a class="anchor" id="wince_overview"></a>
Overview</h2>
<p>This document is devoted to give some overview of the GDAL port for <a href="http://en.wikipedia.org/wiki/Windows_CE">Windows CE</a> operating system.</p>
<h2><a class="anchor" id="wince_features"></a>
Features</h2>
<p>Currently, from version <a href="http://www.gdal.org/dl/gdal140.zip">1.4.0</a>, GDAL includes following features for Windows CE platform:</p>
<ul>
<li>
CPL library </li>
<li>
GDAL and OGR core API </li>
<li>
GDAL drivers: <ul>
<li>
<a href="http://www.gdal.org/frmt_various.html#AAIGrid">AAIGrid</a> </li>
<li>
<a href="http://www.gdal.org/frmt_dted.html">DTED</a> </li>
<li>
<a href="http://www.gdal.org/frmt_gtiff.html">GeoTIFF</a> </li>
</ul>
</li>
<li>
OGR drivers: <ul>
<li>
Generic </li>
<li>
<a href="http://www.gdal.org/ogr/drv_csv.html">CSV</a> </li>
<li>
<a href="http://www.gdal.org/ogr/drv_mitab.html">MITAB</a> </li>
<li>
<a href="http://www.gdal.org/ogr/drv_shapefile.html">ESRI Shapefile</a> </li>
</ul>
</li>
<li>
Unit Test suite (gdalautotest/cpp) </li>
<li>
Optional <a href="http://proj.maptools.org/">PROJ.4</a> support </li>
<li>
Optional <a href="http://geos.refractions.net/">GEOS</a> support </li>
</ul>
<h2><a class="anchor" id="wince_platforms"></a>
Supported Platforms</h2>
<p>GDAL for Windows CE has been tested on following versions of Windows CE:</p>
<ul>
<li>
Windows CE 3.x <ul>
<li>
Pocket PC 2002</li>
</ul>
</li>
<li>
Windows CE 4.x <ul>
<li>
Windows Mobile 2003</li>
</ul>
</li>
<li>
Windows CE 5.x <ul>
<li>
Windows Mobile 5 </li>
<li>
customized versions of Windows CE 5.0 </li>
</ul>
</li>
</ul>
<p>Supported compilers for Windows CE operating system:</p>
<ul>
<li>
Microsoft Visual C++ 2005 Standard, Professional or Team Suite Edition </li>
<li>
<p class="startli">Microsoft eMbedded Visual C++ 4.0</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Currently, no project files provided for eVC++ 4.0 IDE</dd></dl>
</li>
</ul>
<h2><a class="anchor" id="wince_directory"></a>
Content of 'wince' directory</h2>
<dl class="note"><dt><b>Note:</b></dt><dd>Due to problems with removing directories from CVS and missed synchronization of RC branch, the 'wince' directory includes a few deprecated project files (see below).<br/>
 Please <b>DON'T USE</b> them, unless you want to fix them yourself.</dd></dl>
<p>Active content:</p>
<ul>
<li>
<b>msvc80</b> - project for Visual C++ 2005 to build GDAL DLL for Windows CE </li>
<li>
README - the file you're currently reading </li>
<li>
TODO - planned and requested features </li>
</ul>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>Following directories and projects are deprecated. <b>DON'T USE THEM!</b></dd></dl>
<ul>
<li>
evc4_gdalce_dll </li>
<li>
evc4_gdalce_dll_test </li>
<li>
evc4_gdalce_lib </li>
<li>
evc4_gdalce_lib_test </li>
<li>
msvc8_gdalce_lib </li>
<li>
msvc8_gdalce_lib_test </li>
<li>
wce_test_dll </li>
<li>
wce_test_lib </li>
<li>
wcelibcex </li>
</ul>
<h2><a class="anchor" id="wince_building"></a>
Building GDAL for Windows CE using Microsoft Visual C++ 2005</h2>
<ol>
<li>
<p class="startli">Requirements</p>
<ul>
<li>
You need to have installed Visual C++ 2005 Standard, Professional or Team Suite Edition. </li>
<li>
You also need to have installed at least one SDK for Windows CE platform: <ul>
<li>
Windows Mobile 2003 Pocket PC SDK </li>
<li>
Windows Mobile 2003 SmartphoneSDK </li>
<li>
Windows Mobile 5.0 Pocket PC SDK </li>
<li>
Windows Mobile 5.0 Smartphone SDK </li>
</ul>
</li>
<li>
Last requirement is the <a href="http://support.microsoft.com/default.aspx?scid=kb;[LN];830482">Run-time Type Information library for the Pocket PC 2003 SDK</a>. </li>
</ul>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">External dependencies</p>
<p>There is only one external dependency required to build GDAL for Windows CE. This dependency is <a href="http://wcelibcex.sourceforge.net">WCELIBCEX</a> library available to download from:</p>
<p><a href="http://sourceforge.net/projects/wcelibcex">http://sourceforge.net/projects/wcelibcex</a></p>
<p>You can download latest release - <a href="http://sourceforge.net/project/showfiles.php?group_id=160411&amp;package_id=180452&amp;release_id=476819">wcelibcex-1.0</a> - or checkout sources directly form SVN. In both cases, you will be provided with project file for Visual C++ 2005.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>WCELIBCEX is built to Static Library. For details, check README.txt file form the package.</dd></dl>
<p class="endli"></p>
</li>
<li>
<p class="startli">Download GDAL 1.4.0 release or directly from CVS</p>
<p>Go to <a href="http://www.gdal.org/download.html">http://www.gdal.org/download.html</a> and download ZIP package with GDAL 1.4.0. You can also checkout sources directly from SVN.</p>
<p>For this guidelines, I assume following directories structure:</p>
<div class="fragment"><pre class="fragment">
C:\dev\gdal-1.4.0
C:\dev\wcelibcex-1.0
</pre></div><p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Projects configuration</p>
<ol>
<li>
<p class="startli">Open gdalce_dll.sln project in Visual C++ 2005 IDE</p>
<p>According to the paths presented in step 3, you should load following <a href="file:">file:</a></p>
<div class="fragment"><pre class="fragment">C:\dev\gdal-1.4.0\wince\msvc80\gdalce_dll\gdalce_dll.sln </pre></div><p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Add WCELIBCEX project to gdalce_dll.sln solution</p>
<p>Go to File -&gt; Add -&gt; Existing Project, navigage and open following <a href="file:">file:</a></p>
<div class="fragment"><pre class="fragment">C:\dev\wcelibcex-1.0\msvc80\wcelibcex_lib.vcproj </pre></div><p></p>
<p class="endli"><a class="anchor" id="gdalce_wcelibcex_configure"></a> </p>
</li>
<li>
<p class="startli">Configure path to WCELIBCEX source: </p>
<ul>
<li>
Go to View -&gt; Property Manager to open property manager window </li>
<li>
Expand tree below gdalce_dll -&gt; Debug -&gt; gdalce_common </li>
<li>
Right-click on gdalce_common and select Properties </li>
<li>
In Property Pages dialog, under Common Properties, go to User Macros </li>
<li>
In macros list, double-click on macro named as WCELIBCEX_DIR </li>
<li>
According paths assumed in step 3, change the macro value to: <div class="fragment"><pre class="fragment">C:\dev\wcelibcex-1.0\src </pre></div>  </li>
<li>
Click OK to apply changes and close the dialog </li>
</ul>
<p class="endli"><a class="anchor" id="gdalce_wcelibcex_dependency"></a> </p>
</li>
<li>
Configure <em>wcelibcex_lib.vcproj</em> as a dependency for <em>gdalce_dll.vcproj</em> <ul>
<li>
Select gdalce_dll project in Solution Explorer </li>
<li>
Go to Project -&gt; Project Dependencies </li>
<li>
In the 'Depends on:' pane, select checkbox next to wcelibcex_lib </li>
<li>
Click OK to apply and close </li>
</ul>
</li>
</ol>
<p class="endli"></p>
</li>
<li>
<p class="startli">Ready to build GDAL for Windows CE</p>
<p>Go to Build and select Build Solution</p>
<p>After a few minutes, you should see GDAL DLL ready to use. For example, when Pocket PC 2003 SDK is used and Debug configuration requested, all output files are located under this path:</p>
<div class="fragment"><pre class="fragment">
C:\dev\gdal-1.4.0\wince\msvc80\gdalce_dll\Pocket PC 2003 (ARMV4)\Debug
</pre></div><p>There, you will find following binaries:</p>
<ul>
<li>
<b>gdalce.dll</b> - dymamic-link library </li>
<li>
<b>gdalce_i.lib</b> - import library </li>
</ul>
<p></p>
<p class="endli"></p>
</li>
</ol>
<h3><a class="anchor" id="wince_building_proj4"></a>
Enable PROJ.4 support</h3>
<p>PROJ.4 support is optional.</p>
<p>In the CVS repository of PROJ.4, there are available project files for Visual C++ 2005 for Windows CE.</p>
<p>It is recommended to read <em>README.txt</em> file from <em>wince\msvc80</em> directory in PROJ.4 sources tree. There, you will find instructions how to build PROJ.4 without attaching its project to gdalce_dll.sln. Then you can just add proj.dll and proj_i.lib to linker settings of gdalce_dll.vcproj project.</p>
<p>Below, you can find instructions how to add projce_dll.vcproj project directly to gdalce_dll.sln and build everything together.</p>
<ol>
<li>
<p class="startli">Go to <a href="http://proj.maptools.org">http://proj.maptools.org</a> and learn how to checkout PROJ.4 source from the CVS</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Checkout sources to prefered location, for example:</p>
<div class="fragment"><pre class="fragment">C:\dev\proj </pre></div><p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Add projce_dll.vcproj project to gdalce_dll.sln solution</p>
<p>Go to File -&gt; Add -&gt; Existing Project, navigage and open following <a href="file:">file:</a></p>
<div class="fragment"><pre class="fragment">C:\dev\proj\wince\msvc80\projce_dll\projce_dll.vcproj </pre></div><p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Open Property Manager as described <a href="#gdalce_wcelibcex_configure">here</a>, open Property Page for gdalce_common, and edit macro named as PROJ_DIR.</p>
<p>Change value of the PROJ_DIR macro to: </p>
<div class="fragment"><pre class="fragment">C:\dev\proj </pre></div><p>Don't close the Property Manager yet.</p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Configure path to WCELIBCEX source: </p>
<ul>
<li>
Go to View -&gt; Property Manager to open property manager window </li>
<li>
Expand tree below projce_dll -&gt; Debug -&gt; projce_common </li>
<li>
Right-click on projce_common and select Properties </li>
<li>
In Property Pages dialog, under Common Properties, go to User Macros </li>
<li>
In macros list, double-click on macro named as WCELIBCEX_DIR </li>
<li>
According paths assumed in step 3, change the macro value to: <div class="fragment"><pre class="fragment">C:\dev\wcelibcex-1.0\src </pre></div>  </li>
<li>
Click OK to apply changes and close the dialog </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Follow instructions explained <a href="#gdalce_wcelibcex_dependency">here</a> and add projce_dll.vcproj as a dependency for gdalce_dll.vcproj</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Update proj_config.h <a href="file:">file:</a></p>
<p>Go to <em>C:\dev\proj\src</em> and rename <em>proj_config.h.wince</em> to <em>proj_config.h</em>.</p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Ready to build GDAL for Windows CE</p>
<p>Go to Build and select Build Solution</p>
<p>Similarly to explanation above in step 5 for GDAL, binaries for PROJ.4 for Windows CE can be found here:</p>
<div class="fragment"><pre class="fragment">
   C:\dev\proj\wince\msvc80\projce_dll\Pocket PC 2003 (ARMV4)\Debug
   </pre></div><p>There, you can find following binaries:</p>
<ul>
<li>
<b>proj.dll</b> - dymamic-link library </li>
<li>
<b>proj_i.lib</b> - import library </li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>PROJ.4 binaries for Windows CE do not include 'ce' in names. This is due the fact GDAL uses fixed proj.dll name to find and link dynamically with PROJ.4 DLL.</dd></dl>
<p class="endli"></p>
</li>
<li>
<p class="startli">After all, put proj.dll to the same directory on device where you copied gdalce.dll and your application which uses GDAL.</p>
<p class="endli"></p>
</li>
</ol>
<h2><a class="anchor" id="wince_help"></a>
How can I help?</h2>
<p>I'd like to encourage everyone interested in using GDAL on Windows CE devices to help in its development. Here is a list of what you can do as a contribution to the project: </p>
<ul>
<li>
You can build GDAL for Windows CE and report problems if you will meet any </li>
<li>
You can try to build new OGR drivers </li>
<li>
You can test GDAL/OGR on different Windows CE devices </li>
<li>
You can write sample applications using GDAL/OGR and announce them on the <a href="http://lists.maptools.org/mailman/listinfo/gdal-dev/">GDAL mailing list</a> </li>
<li>
If you have found a bug or something is not working on the Windows CE, please report it on the <a href="http://bugzilla.remotesensing.org">GDAL's Bugzilla</a> </li>
</ul>
<p>There is also <em>wince\TODO</em> file where you can find list of things we are going to do.</p>
<p>If you have any comments or questions, please sent them to <a href="http://lists.osgeo.org/mailman/listinfo/gdal-dev/">gdal-dev@lists.maptools.org</a> mailing list.</p>
 
<p>
$Id: wince_port.dox 18465 2010-01-07 20:39:16Z mloskot $
</p>
 </div>
<hr>

Generated for GDAL by 
<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.7.1.
</body>
</html>
